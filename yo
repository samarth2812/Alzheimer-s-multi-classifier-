// In your component
const {
  handleSubmitIndent,
  isSubmitting,
  submittingIndentId,
  // ... other props
} = useIndentManagement(pageType);

// In your button
<button
  onClick={() => handleSubmitIndent(indentId, department)}
  disabled={isSubmitting || submittingIndentId === indentId}
  className={`submit-btn ${isSubmitting || submittingIndentId === indentId ? 'loading' : ''}`}
>
  {isSubmitting && submittingIndentId === indentId ? 'Submitting...' : 'Submit'}
</button>



// In your submit handler
const onSubmit = (e) => {
  e.preventDefault();
  e.stopPropagation();
  handleSubmitIndent(indentId, department);
};



// Add this check in your component before calling handleSubmitIndent
const canSubmit = formData[indentId]?.approvalStatus && !isSubmitting;

<button
  onClick={() => handleSubmitIndent(indentId, department)}
  disabled={!canSubmit}
>
  Submit
</button>
