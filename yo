// @mui material components
import DeleteIcon from "@mui/icons-material/Delete";
import DownloadIcon from "@mui/icons-material/Download";
import EditIcon from "@mui/icons-material/Edit";
import FilterAltIcon from "@mui/icons-material/FilterAlt";
import SearchIcon from "@mui/icons-material/Search";
import { IconButton, Tooltip, Typography } from "@mui/material";
import Box from "@mui/material/Box";
import InputAdornment from "@mui/material/InputAdornment";
import TextField from "@mui/material/TextField";
import Button from "@mui/material/Button";
import { ArrowCircleUp, ChatBubbleOutline, Visibility } from "@mui/icons-material";
import VisibilityIcon from "@mui/icons-material/Visibility";
import { Dialog, DialogContent, FormControl, Select, MenuItem } from "@mui/material";
import Skeleton from "@mui/material/Skeleton";

// Athena Guard components
import MDTypography from "components/MDTypography";
import DataTable from "examples/Tables/DataTable";
import { GiDatabase } from "react-icons/gi";

// Athena Guard example components
import AddIcon from "@mui/icons-material/Add";
import { Stack } from "@mui/material";
import ObservationFormDialog from "./observationFormDialog";
import CustomDeleteDialog from "layouts/resuableComponents/customDeleteDialog";
import DescriptionDialog from "layouts/resuableComponents/customDescriptionViewDialog";
import { topBarStyle } from "layouts/resuableComponents/styles";
import { topBarSearchStyle } from "layouts/resuableComponents/styles";
import { animatedButtonStyle } from "layouts/resuableComponents/styles";
import { iconButtonStyle } from "layouts/resuableComponents/styles";
import { z } from "zod";
import { CustomDropdownChip } from "layouts/resuableComponents/customDropdownChipField";
import RemarksInputDialog from "layouts/resuableComponents/RemarksInputDialog";
import CustomIconButton from "layouts/resuableComponents/CustomIconButton";
import EmptyStateBox from "layouts/resuableComponents/emptyStateBox";
import { BsTable } from "react-icons/bs";
import InputWithDialog from "layouts/resuableComponents/InputWithDialog ";
import { AttachmentDrawer } from "layouts/resuableComponents/attachmentDrawer";
import PaginationFooter from "layouts/resuableComponents/PaginationFooter";

// Custom hooks and utilities
import { useObservationManagement } from "./hooks/useObservationManagement";
import { formatObservationTableData } from "./utils/observationTableFormatter";

const createObservationPage = () => {
  const pageType = "created"; // You can pass this as a prop or get it from route params
  
  const {
    // State
    data,
    searchTerm,
    loading,
    formData,
    isModalOpen,
    setIsModalOpen,
    editObservationData,
    observationToDelete,
    isDeleteDialogOpen,
    setIsDeleteDialogOpen,
    descriptionDialogOpen,
    setDescriptionDialogOpen,
    currentDescription,
    setCurrentDescription,
    viewAttachementDialogOpen,
    setViewAttachementDialogOpen,
    attachments,
    setAttachments,
    observationId,
