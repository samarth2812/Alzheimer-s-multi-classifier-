// POST /api/audit-trail/indent

export const createIndentAuditTrail = async ({
  indentId,
  field,
  oldValue,
  newValue,
  action,
  step,
  role,
  performedBy,
}: {
  indentId: string;
  field: string;
  oldValue?: string;
  newValue?: string;
  action: AuditAction;
  step: number;
  role: StepRoles;
  performedBy: string;
}) => {
  try {
    await prisma.indentAuditTrail.create({
      data: {
        indentId,
        field,
        oldValue,
        newValue,
        action,
        step,
        role,
        performedBy,
      },
    });
  } catch (error) {
    console.error("Failed to create audit entry", error);
  }
};
