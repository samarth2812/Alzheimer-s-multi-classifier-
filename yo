export const getCommunicationNotificationService = async (
  userEmail: string
): Promise<{ success: boolean; data: { inboxCount: number } }> => {
  try {
    const inboxFilter = buildFetchFilter("inbox", userEmail);

    const inboxCount = await prisma.communication.count({ where: inboxFilter });

    return {
      success: true,
      data: {
        inboxCount,
      },
    };
  } catch (error: any) {
    console.error("Error fetching communication notifications:", error);
    throw ApiError.internal(
      "Unable to fetch communication notification counts"
    );
  }
};
